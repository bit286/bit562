<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<link rel="stylesheet" type="text/css" href="../css/doc_style.css" />
<title>tableMap</title>
</head>

<body>
<span class="codeline">&lt;?php</span><br />
<span class="codeline"></span><br />
<span class="codeline"></span><br />
<span class="codeline"></span><br />
<span class="comment">/*********************************************************************</span><br />
<span class="comment">* In order to have automatic SQL writing in the middle tier, the browser</span><br />
<span class="comment">* name for data must be mapped to the database column name for the data.</span><br />
<span class="comment">* One method of creating that map is to put the information in the database.</span><br />
<span class="comment">* There is a table called tablemaps which has tablename, browserFormName,</span><br />
<span class="comment">* dbColulmnName, queryType, and dataType as its primary data columns.  The</span><br />
<span class="comment">* queryType is 'select', 'insert', or 'update'.  Each record in the table</span><br />
<span class="comment">* maps one browser field to one data table column so there will be several</span><br />
<span class="comment">* records for each browser form.  When the contents of this table are</span><br />
<span class="comment">* loaded into memory, each record is stored in a single tableMap object.</span><br />
<span class="comment">*</span><br />
<span class="comment">* Each select statement used in the application has a list of column names,</span><br />
<span class="comment">* e.g., select object_ID, essayoid, authoroid, groupoid, paragraph_ID,</span><br />
<span class="comment">*              name, note, purpose, security</span><br />
<span class="comment">*       from enotes</span><br />
<span class="comment">* The list of column names used in the select can be dynamically constructed</span><br />
<span class="comment">* from the tableMap objects for the "enotes" table.</span><br />
<span class="comment">*</span><br />
<span class="comment">* A standard calling for naming form data names matching the database</span><br />
<span class="comment">* column name makes table map records unnceccary.  MOST SELECT COLUMN LISTS</span><br />
<span class="comment">* are generated from the relevant table itself using 'show columns from tablename'.</span><br />
<span class="comment">*</span><br />
<span class="comment">********************************************************************/</span><br />
<span class="classDefinition">class tableMap {</span><div class="class body">
<span class="codeline"></span><br />
<span class="codeline">private $values = array();</span><br />
<span class="codeline"></span><br />
<div class="functionDeclaration"><span class="expandFunction">++</span><span class="functionDefinition">function __construct($tableName,</span><div class="function body"><br />
<span class="codeline">$browserFormName,</span><br />
<span class="codeline">$dbColumnName,</span><br />
<span class="codeline">$queryType,</span><br />
<span class="codeline">$dataType) {</span><br /><div class="body">
<span class="codeline"></span><br />
<span class="codeline">$this->values['table']= $tableName;</span><br />
<span class="codeline">$this->values['browser'] = $browserFormName;</span><br />
<span class="codeline">$this->values['dbCol'] = $dbColumnName;</span><br />
<span class="codeline">$this->values['query']= $queryType;</span><br />
<span class="codeline">$this->values['dataType'] = $dataType;</span><br />
<span class="codeline"></span><br />
</div><span class="codeline">}</span><br />
<span class="codeline"></span><br />
<span class="codeline">public function get($element) {</span><div class="function body"><br />
<span class="codeline">return $this->values[$element];</span><br />
</div><span class="codeline">}</span><br />
<span class="codeline"></span><br />
</div><span class="codeline">}</span><br /></div>
<span class="codeline"></span><br />
<span class="codeline">?></span><br />
<span class="codeline"></span><br />

<script type="text/javascript" src="../tools/jquery-1.5.2.min.js"></script>
<script type="text/javascript" language="javascript" src="../javascript/doc_style.js"></script>

</body>

</html>